<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <script src="../jquery-3.5.1.js"></script>
  <script src="../echarts.js"></script>
  <!-- 引入echarts -->
  <style>
    li {
      list-style: none;
    }

    .btnClass {
      /*padding: 0 12px;*/
      width: 25%;
      height: 20px;
      margin: 0;
      background-color: #7a7281;
      float: left;
    }

    .btnClass:hover {
      cursor: pointer;
    }


  </style>

</head>
<body>
<div style="width: 100%;height: 600px;float: left;">
  <div style="width: 100%;height: 25px; background: #080b30;">
    <ul>
      <li class="btnClass colorBtn" data-value="two_version" style="background-color:#9ca8b8;">二级指标</li>
      <li class="btnClass" data-value="one_version">一级指标</li>
      <li class="btnClass" data-value="point_version">分数占比图</li>
      <li class="btnClass" data-value="cul_version">评语</li>
    </ul>
  </div>
  <div style="width: 100%;height: 570px;float: left;" id="main"></div>

</div>
</body>
</html>

<script>

  var myChart = echarts.init(document.getElementById('main'));

  init();

  function init() {
    option = {
      backgroundColor: '#080b30',
      title: {
        text: '各小项分数统计',
        subtext: "总分：210",
        textStyle: {
          align: 'center',
          color: '#fff',
          fontSize: 20,
        },
        top: '5%',
        left: 'center',
        triggerEvent: true  // 是否触发事件
      },
      tooltip: {
        trigger: 'axis',
        axisPointer: { // 坐标轴指示器，坐标轴触发有效
          type: 'shadow' // 默认为直线，可选为：'line' | 'shadow'
        }
      },
      grid: {
        left: '2%',
        right: '4%',
        bottom: '14%',
        top:'16%',
        containLabel: true
      },
      legend: {
        data: ["学号",'统计'],
        right: 10,
        top:12,
        textStyle: {
          color: "#fff"
        },
        itemWidth: 12,
        itemHeight: 10,
        // itemGap: 35
      },
      xAxis: {
        type: 'category',
        data: ['学位课成绩','非学位课成绩','实践成绩','小论文分','学位论文分','科研分','竞赛分','文献分','学生干部分','集体活动分','奖学金分','荣誉分'],
        axisLine: {
          lineStyle: {
            color: 'white'

          }
        },
        axisLabel: {
          // interval: 0,
          // rotate: 40,
          textStyle: {
            fontFamily: 'Microsoft YaHei'
          }
        },
      },

      yAxis: {
        type: 'value',
        max:'100',
        axisLine: {
          show: false,
          lineStyle: {
            color: 'white'
          }
        },
        splitLine: {
          show: true,
          lineStyle: {
            color: 'rgba(255,255,255,0.3)'
          }
        },
        axisLabel: {}
      },
      "dataZoom": [{
        "show": true,
        "height": 12,
        "xAxisIndex": [
          0
        ],
        bottom:'8%',
        "start": 10,
        "end": 90,
        handleIcon: 'path://M306.1,413c0,2.2-1.8,4-4,4h-59.8c-2.2,0-4-1.8-4-4V200.8c0-2.2,1.8-4,4-4h59.8c2.2,0,4,1.8,4,4V413z',
        handleSize: '110%',
        handleStyle:{
          color:"#d3dee5",

        },
        textStyle:{
          color:"#fff"},
        borderColor:"#90979c"
      }, {
        "type": "inside",
        "show": true,
        "height": 15,
        "start": 1,
        "end": 35
      }],
      series: [
        {
          name: '学号',
          type: 'bar',
          barWidth: '15%',
          itemStyle: {
            normal: {
              color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
                offset: 0,
                color: '#248ff7'
              }, {
                offset: 1,
                color: '#6851f1'
              }]),
              barBorderRadius: 11,
            }
          },
          data: [40, 30, 40, 10, 15, 17, 15, 23, 25,20,12,19,3]
        },

      ]
    };
    myChart.setOption(option,true)
  }

  function init2() {
    option = {
      backgroundColor: '#080b30',
      title: {
        text: '各大项分数统计',
        subtext: '总分：210',
        textStyle: {
          align: 'center',
          color: '#fff',
          fontSize: 20,
        },
        top: '5%',
        left: 'center',
      },
      tooltip: {
        trigger: 'axis',
        axisPointer: { // 坐标轴指示器，坐标轴触发有效
          type: 'shadow' // 默认为直线，可选为：'line' | 'shadow'
        }
      },
      grid: {
        left: '2%',
        right: '4%',
        bottom: '14%',
        top:'16%',
        containLabel: true
      },
      legend: {
        data: ['学号'],
        right: 10,
        top:12,
        textStyle: {
          color: "#fff"
        },
        itemWidth: 12,
        itemHeight: 10,
        // itemGap: 35
      },
      xAxis: {
        type: 'category',
        data: ["理论基础",'专业素养','创新能力','综合能力'],
        axisLine: {
          lineStyle: {
            color: 'white'

          }
        },
        axisLabel: {
          // interval: 0,
          // rotate: 40,
          textStyle: {
            fontFamily: 'Microsoft YaHei'
          }
        },
      },

      yAxis: {
        type: 'value',
        max:'100',
        axisLine: {
          show: false,
          lineStyle: {
            color: 'white'
          }
        },
        splitLine: {
          show: true,
          lineStyle: {
            color: 'rgba(255,255,255,0.3)'
          }
        },
        axisLabel: {}
      },
      "dataZoom": [{
        "show": true,
        "height": 12,
        "xAxisIndex": [
          0
        ],
        bottom:'8%',
        "start": 10,
        "end": 90,
        handleIcon: 'path://M306.1,413c0,2.2-1.8,4-4,4h-59.8c-2.2,0-4-1.8-4-4V200.8c0-2.2,1.8-4,4-4h59.8c2.2,0,4,1.8,4,4V413z',
        handleSize: '110%',
        handleStyle:{
          color:"#d3dee5",

        },
        textStyle:{
          color:"#fff"},
        borderColor:"#90979c"
      }, {
        "type": "inside",
        "show": true,
        "height": 15,
        "start": 1,
        "end": 35
      }],
      series: [
        {
          name: '学号',
          type: 'bar',
          barWidth: '15%',
          itemStyle: {
            normal: {
              color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
                offset: 0,
                color: '#248ff7'
              }, {
                offset: 1,
                color: '#6851f1'
              }]),
              barBorderRadius: 11,
            }
          },
          data: [80, 30, 50, 20]
        },

      ]
    };
    myChart.setOption(option,true)
  }

  function init3() {
    var option = {
      backgroundColor: '#080b30',
      title: {
        text: "分数占比",
        subtext:'总分：78.35',
        x: "center",
        textStyle: {
          align: 'center',
          color: '#fff',
          fontSize: 20,
        },
        top: '5%',
        left: 'center',
        triggerEvent: true  // 是否触发事件
      },
      tooltip: {
        trigger: "item",
        formatter: "{a})"
      },
      legend: {
        orient: "vertical",
        left: "left",
        data: ["专业素养", "综合能力", "创新能力", "理论基础"],
        right: 10,
        top:12,
        textStyle: {
          color: "#fff"
        },
      },
      series: [
        {
          name: "数据统计",
          type: "pie",
          radius: "55%",
          center: ["50%", "50%"],
          data: [
            { value: 30, name: "专业素养" },
            { value: 20, name: "综合能力" },
            { value: 50, name: "创新能力" },
            { value: 110, name: "理论基础" },
          ],
          itemStyle: {
            emphasis: {
              shadowBlur: 10,
              shadowOffsetX: 0,
              shadowColor: "rgba(0, 0, 0, 0.5)"
            }
          }
        }
      ]
    };
    myChart.setOption(option,true)
  }

  function init4(){

    var nodes = [
      {
        x: 0,
        y: 800,
        nodeName: '专业素养',
        svgPath: 'M887.552 546.10944c-28.16 0-54.21056 8.576-75.97056 23.168l-140.22144-153.6a237.55264 237.55264 0 0 0 79.54944-176.768C750.7712 107.02336 643.8912 0.14336 512 0 380.1088 0.14336 273.2288 107.02336 273.09056 238.91456c0 67.84 28.672 128.768 74.24 172.35456L203.52 564.41856a134.60992 134.60992 0 0 0-67.01056-18.304C61.12256 546.18112 0.03584 607.29856 0 682.68544 0 757.95456 61.25056 819.2 136.50944 819.2c75.38688-0.03584 136.50432-61.12256 136.576-136.51456 0-26.112-7.68-50.176-20.48-70.97344l151.10656-161.024a234.73152 234.73152 0 0 0 74.17856 23.68v281.41056a136.448 136.448 0 0 0-102.4 131.712c0 75.264 61.184 136.50944 136.50944 136.50944 75.3664-0.07168 136.44288-61.14816 136.50944-136.50944 0-63.42144-43.648-116.41856-102.4-131.712V474.368c24.00256-3.456 46.78144-10.17344 67.84-20.29056l152.38656 166.85056c-9.53856 18.688-15.36 39.424-15.36 61.75744 0 75.264 61.184 136.51456 136.576 136.51456 75.41248-2.82624 134.25152-66.2528 131.42528-141.66528-2.68288-71.44448-59.9808-128.7424-131.42528-131.42528z m-751.03744 204.8c-37.69856 1.13664-69.17632-28.50304-70.31808-66.19648S94.69952 615.53664 132.39296 614.4c1.39264-0.04096 2.7904-0.04096 4.18304 0 37.71392 0.01536 68.2752 30.60224 68.25984 68.31616-0.01536 37.69344-30.5664 68.24448-68.25984 68.25984l-0.06144-0.06656z m204.8-512c0.1024-94.21312 76.47232-170.55232 170.68544-170.61888 94.21312 0.07168 170.58304 76.41088 170.68544 170.624C682.61888 333.15328 606.23872 409.52832 512 409.6c-94.23872-0.07168-170.61888-76.44672-170.68544-170.69056z m238.976 648.576c-0.01536 37.71392-30.60736 68.2752-68.32128 68.25472-37.71392-0.01536-68.2752-30.60736-68.25472-68.32128 0.01536-37.71392 30.60224-68.2752 68.31616-68.25984 37.69344 0.01536 68.24448 30.5664 68.25984 68.25984v0.06656z m307.2-136.576c-37.67296-0.03584-68.21888-30.55104-68.29056-68.224 0-37.71392 30.57152-68.28544 68.29056-68.28544 37.71392 0 68.29056 30.57152 68.28544 68.29056 0 37.68832-30.53568 68.25472-68.224 68.28544l-0.06144-0.06656z',
      },
      {
        x: 300,
        y: 800,
        nodeName: '综合能力',
        svgPath: 'M887.552 546.10944c-28.16 0-54.21056 8.576-75.97056 23.168l-140.22144-153.6a237.55264 237.55264 0 0 0 79.54944-176.768C750.7712 107.02336 643.8912 0.14336 512 0 380.1088 0.14336 273.2288 107.02336 273.09056 238.91456c0 67.84 28.672 128.768 74.24 172.35456L203.52 564.41856a134.60992 134.60992 0 0 0-67.01056-18.304C61.12256 546.18112 0.03584 607.29856 0 682.68544 0 757.95456 61.25056 819.2 136.50944 819.2c75.38688-0.03584 136.50432-61.12256 136.576-136.51456 0-26.112-7.68-50.176-20.48-70.97344l151.10656-161.024a234.73152 234.73152 0 0 0 74.17856 23.68v281.41056a136.448 136.448 0 0 0-102.4 131.712c0 75.264 61.184 136.50944 136.50944 136.50944 75.3664-0.07168 136.44288-61.14816 136.50944-136.50944 0-63.42144-43.648-116.41856-102.4-131.712V474.368c24.00256-3.456 46.78144-10.17344 67.84-20.29056l152.38656 166.85056c-9.53856 18.688-15.36 39.424-15.36 61.75744 0 75.264 61.184 136.51456 136.576 136.51456 75.41248-2.82624 134.25152-66.2528 131.42528-141.66528-2.68288-71.44448-59.9808-128.7424-131.42528-131.42528z m-751.03744 204.8c-37.69856 1.13664-69.17632-28.50304-70.31808-66.19648S94.69952 615.53664 132.39296 614.4c1.39264-0.04096 2.7904-0.04096 4.18304 0 37.71392 0.01536 68.2752 30.60224 68.25984 68.31616-0.01536 37.69344-30.5664 68.24448-68.25984 68.25984l-0.06144-0.06656z m204.8-512c0.1024-94.21312 76.47232-170.55232 170.68544-170.61888 94.21312 0.07168 170.58304 76.41088 170.68544 170.624C682.61888 333.15328 606.23872 409.52832 512 409.6c-94.23872-0.07168-170.61888-76.44672-170.68544-170.69056z m238.976 648.576c-0.01536 37.71392-30.60736 68.2752-68.32128 68.25472-37.71392-0.01536-68.2752-30.60736-68.25472-68.32128 0.01536-37.71392 30.60224-68.2752 68.31616-68.25984 37.69344 0.01536 68.24448 30.5664 68.25984 68.25984v0.06656z m307.2-136.576c-37.67296-0.03584-68.21888-30.55104-68.29056-68.224 0-37.71392 30.57152-68.28544 68.29056-68.28544 37.71392 0 68.29056 30.57152 68.28544 68.29056 0 37.68832-30.53568 68.25472-68.224 68.28544l-0.06144-0.06656z',
      },
      {
        x: 700,
        y: 800,
        nodeName: '创新能力',
        svgPath: 'M887.552 546.10944c-28.16 0-54.21056 8.576-75.97056 23.168l-140.22144-153.6a237.55264 237.55264 0 0 0 79.54944-176.768C750.7712 107.02336 643.8912 0.14336 512 0 380.1088 0.14336 273.2288 107.02336 273.09056 238.91456c0 67.84 28.672 128.768 74.24 172.35456L203.52 564.41856a134.60992 134.60992 0 0 0-67.01056-18.304C61.12256 546.18112 0.03584 607.29856 0 682.68544 0 757.95456 61.25056 819.2 136.50944 819.2c75.38688-0.03584 136.50432-61.12256 136.576-136.51456 0-26.112-7.68-50.176-20.48-70.97344l151.10656-161.024a234.73152 234.73152 0 0 0 74.17856 23.68v281.41056a136.448 136.448 0 0 0-102.4 131.712c0 75.264 61.184 136.50944 136.50944 136.50944 75.3664-0.07168 136.44288-61.14816 136.50944-136.50944 0-63.42144-43.648-116.41856-102.4-131.712V474.368c24.00256-3.456 46.78144-10.17344 67.84-20.29056l152.38656 166.85056c-9.53856 18.688-15.36 39.424-15.36 61.75744 0 75.264 61.184 136.51456 136.576 136.51456 75.41248-2.82624 134.25152-66.2528 131.42528-141.66528-2.68288-71.44448-59.9808-128.7424-131.42528-131.42528z m-751.03744 204.8c-37.69856 1.13664-69.17632-28.50304-70.31808-66.19648S94.69952 615.53664 132.39296 614.4c1.39264-0.04096 2.7904-0.04096 4.18304 0 37.71392 0.01536 68.2752 30.60224 68.25984 68.31616-0.01536 37.69344-30.5664 68.24448-68.25984 68.25984l-0.06144-0.06656z m204.8-512c0.1024-94.21312 76.47232-170.55232 170.68544-170.61888 94.21312 0.07168 170.58304 76.41088 170.68544 170.624C682.61888 333.15328 606.23872 409.52832 512 409.6c-94.23872-0.07168-170.61888-76.44672-170.68544-170.69056z m238.976 648.576c-0.01536 37.71392-30.60736 68.2752-68.32128 68.25472-37.71392-0.01536-68.2752-30.60736-68.25472-68.32128 0.01536-37.71392 30.60224-68.2752 68.31616-68.25984 37.69344 0.01536 68.24448 30.5664 68.25984 68.25984v0.06656z m307.2-136.576c-37.67296-0.03584-68.21888-30.55104-68.29056-68.224 0-37.71392 30.57152-68.28544 68.29056-68.28544 37.71392 0 68.29056 30.57152 68.28544 68.29056 0 37.68832-30.53568 68.25472-68.224 68.28544l-0.06144-0.06656z',
      },
      {
        x: 1000,
        y: 800,
        nodeName: '理论基础',
        svgPath: 'M887.552 546.10944c-28.16 0-54.21056 8.576-75.97056 23.168l-140.22144-153.6a237.55264 237.55264 0 0 0 79.54944-176.768C750.7712 107.02336 643.8912 0.14336 512 0 380.1088 0.14336 273.2288 107.02336 273.09056 238.91456c0 67.84 28.672 128.768 74.24 172.35456L203.52 564.41856a134.60992 134.60992 0 0 0-67.01056-18.304C61.12256 546.18112 0.03584 607.29856 0 682.68544 0 757.95456 61.25056 819.2 136.50944 819.2c75.38688-0.03584 136.50432-61.12256 136.576-136.51456 0-26.112-7.68-50.176-20.48-70.97344l151.10656-161.024a234.73152 234.73152 0 0 0 74.17856 23.68v281.41056a136.448 136.448 0 0 0-102.4 131.712c0 75.264 61.184 136.50944 136.50944 136.50944 75.3664-0.07168 136.44288-61.14816 136.50944-136.50944 0-63.42144-43.648-116.41856-102.4-131.712V474.368c24.00256-3.456 46.78144-10.17344 67.84-20.29056l152.38656 166.85056c-9.53856 18.688-15.36 39.424-15.36 61.75744 0 75.264 61.184 136.51456 136.576 136.51456 75.41248-2.82624 134.25152-66.2528 131.42528-141.66528-2.68288-71.44448-59.9808-128.7424-131.42528-131.42528z m-751.03744 204.8c-37.69856 1.13664-69.17632-28.50304-70.31808-66.19648S94.69952 615.53664 132.39296 614.4c1.39264-0.04096 2.7904-0.04096 4.18304 0 37.71392 0.01536 68.2752 30.60224 68.25984 68.31616-0.01536 37.69344-30.5664 68.24448-68.25984 68.25984l-0.06144-0.06656z m204.8-512c0.1024-94.21312 76.47232-170.55232 170.68544-170.61888 94.21312 0.07168 170.58304 76.41088 170.68544 170.624C682.61888 333.15328 606.23872 409.52832 512 409.6c-94.23872-0.07168-170.61888-76.44672-170.68544-170.69056z m238.976 648.576c-0.01536 37.71392-30.60736 68.2752-68.32128 68.25472-37.71392-0.01536-68.2752-30.60736-68.25472-68.32128 0.01536-37.71392 30.60224-68.2752 68.31616-68.25984 37.69344 0.01536 68.24448 30.5664 68.25984 68.25984v0.06656z m307.2-136.576c-37.67296-0.03584-68.21888-30.55104-68.29056-68.224 0-37.71392 30.57152-68.28544 68.29056-68.28544 37.71392 0 68.29056 30.57152 68.28544 68.29056 0 37.68832-30.53568 68.25472-68.224 68.28544l-0.06144-0.06656z',
      },
    ]
    var charts = {
      nodes: [],
      linesData: []
    }
    for (var j = 0; j < nodes.length; j++) {
      const {
        x,
        y,
        nodeName,
        svgPath,
        symbolSize
      } = nodes[j];
      var node = {
        nodeName,
        value: [x, y],
        symbolSize: symbolSize || 50,
        symbol: 'path://' + svgPath,
        itemStyle: {
          color: 'orange',
        }
      }
      charts.nodes.push(node)
    }
    option = {
      backgroundColor: '#080b30',
      title: {
        text: "评价",
        x: "center",
        textStyle: {
          align: 'center',
          color: '#fff',
          fontSize: 20,
        },
        top: '5%',
        left: 'center',
        triggerEvent: true  // 是否触发事件
      },
      tooltip: {
        backgroundColor: 'rgba(255,255,255,0.9)',

        formatter: function(value, index) {
          //判断是否为数组，若是数组则鼠标滑过的是散点图 若不是则不显示tooltip
          if(Object.prototype.toString.call(value.data)==='[object Object]'){
            var tooltip = '';
            tooltip =
                    "<div style='width:250px;height:160px;border-radius:8px;'>"
                    + "<span style='display:block;padding:16px 10px 0 10px;font-size:14px;font-weight:700;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;color:" + value.color + "'>"
                    + value.data.nodeName
                    + "</span>"
                    + "<span style='display:block;padding:16px 10px 0 10px;font-size:14px;font-weight:700;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;color:" + value.color + "'>"
                    + "该生创新能力需要提高"
                    + "</span>"
                    + "<span style='display:block;padding:16px 10px 0 10px;font-size:14px;font-weight:700;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;color:" + value.color + "'>"
                    + "推荐积极参加各类创新创业类竞赛"
                    + "</span>"
                    + "</div>";
            return tooltip;
          }else{
          }

        }
      },

      xAxis: {
        min: 0,
        max: 1000,
        show: false,
        type: 'value'
      },
      yAxis: {
        min: 0,
        max: 1000,
        show: false,
        type: 'value'
      },
      series: [
              {
        type: 'graph',
        coordinateSystem: 'cartesian2d',
        label: {
          show: true,
          position: 'bottom',
          color: 'orange',
          formatter: function(item) {
            return item.data.nodeName
          }
        },
        data: charts.nodes,
      },
        {
        type: 'lines',
        polyline: true,
        coordinateSystem: 'cartesian2d',
        lineStyle: {
          type: 'dashed',
          width: 2,
          color: '#175064',
          curveness: 0.3

        },
        effect: {
          show: true,
          trailLength: 0.1,
          symbol: 'arrow',
          color: 'orange',
          symbolSize: 8
        },
        data: charts.linesData
      }]
    };
    myChart.setOption(option,true)
  }


  $(".btnClass").click(function() {
    //_broken.clear();
    //当点击当前按钮的时候显示当前表格的数据
    let goodsName = $(this).data("value");
    $(this).attr("style", "background-color: #9ca8b8");
    //去掉除自己以外的有btnClass样式的颜色背景
    $(this).siblings().attr("style", "");
    switch (goodsName) {
      case "two_version":
        init();
        break;
      case "one_version":
        init2();
        break;
      case "point_version":
        init3();
        break;
      case "cul_version":
        init4();
        break;
      default:
        break;
    }
  });



</script>
