<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="utf-8" />
    <title>ECharts</title>
    <!-- 引入刚刚下载的 ECharts 文件 -->
    <script src="../echarts.js"></script>
</head>
<body>
<!-- 为 ECharts 准备一个定义了宽高的 DOM -->
<div id="main" style="width: 1250px;height:580px;"></div>
<script type="text/javascript">

    var myChart = echarts.init(document.getElementById('main'));
    var Job_scatter_data = {
        "series": [
            [
                [4, 13, 0, "内部人员", "2022-05-01 04:13"],
                [5, 22, 0, "外部人员", "2022-05-01 05:22"],
                [5, 38, 0, "外部人员", "2022-05-01 05:38"],
                [9, 22, 0, "内部人员", "2022-05-01 09:22"],
                [12, 5, 0, "内部人员", "2022-05-01 12:05"],
                [12,22, 0, "外部人员", "2022-05-01 12:22"],
                [13, 15, 0, "外部人员", "2022-05-01 13:15"],
                [15, 25, 0, "外部人员", "2022-05-01 15:25"],
                [17, 19, 0, "内部人员", "2022-05-01 17:19"]
            ],
            [
                [5, 15, 0, "内部人员", "2022-05-02 05:15"],
                [2, 18, 0, "外部人员", "2022-05-02 02:18"],
                [6, 45, 0, "内部人员", "2022-05-02 06:45"],
                [8, 15, 0, "外部人员", "2022-05-02 08:15"],
                [10, 24, 0, "外部人员", "2022-05-02 10:24"],
                [15, 5, 0, "内部人员", "2022-05-02 15:05"],
                [16, 34, 0, "内部人员", "2022-05-02 16:34"],
                [18, 4, 0, "外部人员", "2022-05-02 18:40"]
            ],
            [
                [5, 16, 0, "外部人员", "2022-05-03 05:16"],
                [6, 24, 0, "内部人员", "2022-05-03 06:24"],
                [8, 44, 0, "外部人员", "2022-05-03 08:44"],
                [9, 36, 0, "外部人员", "2022-05-03 09:36"],
                [12, 24, 0, "外部人员", "2022-05-03 12:24"],
                [14, 52, 0, "内部人员", "2022-05-03 14:52"],
                [16, 13, 0, "外部人员", "2022-05-03 16:13"],
                [19, 54, 0, "内部人员", "2022-05-03 19:54"],
                [21, 2, 0, "内部人员", "2022-05-03 21:02"]
            ],
            [
                [4, 15, 0, "内部人员", "2022-05-04 04:15"],
                [6, 4, 0, "外部人员", "2022-05-04 06:04"],
                [7, 13, 0, "外部人员","2022-05-04 07:13"],
                [8, 39, 0, "内部人员", "2022-05-04 08:39"],
                [9, 40, 0, "内部人员", "2022-05-04 09:40"],
                [10, 1, 0, "外部人员", "2022-05-04 10:01"],
                [13, 45, 0, "外部人员", "2022-05-04 13:45"],
                [16, 45, 0, "外部人员", "2022-05-04 16:45"],
            ],
            [
                [4, 28, 0, "内部人员", "2022-05-05 04:28"],
                [5, 30, 0, "外部人员", "2022-05-05 05:30"],
                [7, 3, 0, "外部人员", "2022-05-05 07:03"],
                [9, 28, 0, "内部人员", "2022-05-05 09:28"],
                [11, 17, 0, "外部人员", "2022-05-05 11:17"],
                [13, 53, 0, "内部人员", "2022-05-05 13:53"],
                [16, 48, 0, "内部人员", "2022-05-05 16:48"],
                [17, 48, 0, "内部人员", "2022-05-05 17:48"],
            ],
            [
                [7, 24, 0, "内部人员", "2022-05-06 07:24"],
                [9, 4, 0, "外部人员", "2022-05-06 09:04"],
                [10, 56, 0, "外部人员", "2022-05-06 10:56"],
                [11,35 , 0, "外部人员","2022-05-06 11:35"],
                [12, 49, 0, "内部人员", "2022-05-06 12:49"],
                [14, 53, 0, "内部人员", "2022-05-06 14:53"],
                [18, 36, 0, "外部人员", "2022-05-06 18:36"],
                [20, 56, 0, "内部人员", "2022-05-06 20:56"],
                [22, 16, 0, "外部人员", "2022-05-06 22:16"]
            ],
            [
                [7, 24, 0, "外部人员", "2022-05-07 07:24"],
                [8, 2, 0, "内部人员", "2022-05-07 08:02"],
                [9, 16, 0, "外部人员", "2022-05-07 09:16"],
                [11, 24, 0, "外部人员", "2022-05-07 11:24"],
                [13, 36, 0, "内部人员", "2022-05-07 13:36"],
                [15, 35, 0, "外部人员", "2022-05-07 15:35"],
                [15, 36, 0, "内部人员","2022-05-07 15:56"],
                [16, 34, 0, "外部人员", "2022-05-07 16:34"],
                [18, 18, 0, "内部人员", "2022-05-07 18:18"],
                [19, 9, 0, "内部人员", "2022-05-07 19:09"],
                [20, 45, 0, "内部人员", "2022-05-07 20:45"],
                [22, 6, 0, "外部人员", "2022-05-07 22:06"]
            ],
            [
                [6, 14, 0, "外部人员", "2022-05-08 06:14"],
                [7, 16, 0, "内部人员", "2022-05-08 07:16"],
                [9, 47, 0, "外部人员", "2022-05-08 09:47"],
                [11, 6, 0, "外部人员", "2022-05-08 11:06"],
                [13, 36, 0, "内部人员", "2022-05-08 13:36"],
                [15, 4, 0, "外部人员", "2022-05-08 15:04"],
                [16, 56, 0, "内部人员","2022-05-08 16:56"],
                [17, 34, 0, "外部人员", "2022-05-08 17:34"],
                [19, 20, 0, "外部人员", "2022-05-08 19:20"],
                [21, 10, 0, "内部人员", "2022-05-08 21:10"],
            ],
             [
                 [4, 5, 0, "内部人员", "2022-05-09 04:05"],
                 [6,12, 0, "外部人员", "2022-05-09 06:12"],
                 [9, 28, 0, "外部人员", "2022-05-09 09:28"],
                 [11, 39, 0, "外部人员", "2022-05-09 11:39"],
                 [13, 28, 0, "内部人员", "2022-05-09 13:28"],
                 [16, 48, 0, "外部人员", "2022-05-09 16:48"],
                 [17, 45, 0, "内部人员","2022-05-09 17:45"],
                 [19, 3, 0, "外部人员", "2022-05-09 19:03"],
                 [20, 18, 0, "外部人员", "2022-05-09 20:18"],
                 [21, 9, 0, "内部人员", "2022-05-09 21:09"],
             ],
             [
                 [5, 37, 0, "外部人员", "2022-05-10 05:37"],
                 [7, 2, 0, "内部人员", "2022-05-10 07:02"],
                 [9, 57, 0, "外部人员", "2022-05-10 09:57"],
                 [10, 36, 0, "外部人员", "2022-05-10 10:36"],
                 [13, 6, 0, "内部人员", "2022-05-10 13:06"],
                 [15, 49, 0, "外部人员", "2022-05-10 15:49"],
                 [17, 8, 0, "内部人员","2022-05-10 17:08"],
                 [19, 50, 0, "内部人员", "2022-05-10 19:50"],
                 [21, 28, 0, "外部人员", "2022-05-10 21:28"],
                 [22, 11, 0, "外部人员", "2022-05-10 22:11"],
             ],
            [
                [8, 38, 0, "外部人员", "2022-05-12 08:38"],
                [9, 7, 0, "外部人员", "2022-05-12 09:07"],
                [10, 22, 0, "外部人员", "2022-05-12 10:22"],
                [11, 12, 0, "外部人员", "2022-05-12 11:12"],
                [11, 18, 0, "外部人员", "2022-05-12 11:18"],
                [16, 12, 0, "内部人员", "2022-05-12 16:12"],
                [19, 33, 0, "内部人员", "2022-05-12 19:33"],
                [21, 21, 0, "内部人员", "2022-05-12 21:21"],
                [22, 2, 0, "内部人员", "2022-05-12 22:02"]
            ],
            [
                [8, 10, 0, "内部人员", "2022-05-13 08:10"],
                [10, 18, 0, "外部人员", "2022-05-13 10:18"],
                [11, 16, 0, "外部人员", "2022-05-13 11:16"],
                [13, 9, 0, "内部人员", "2022-05-13 13:09"],
                [14, 30, 0, "内部人员", "2022-05-13 14:30"],
                [18, 59, 0, "外部人员", "2022-05-13 18:59"],
                [19, 15, 0, "外部人员", "2022-05-13 19:15"],
                [19, 25, 0, "外部人员", "2022-05-13 19:25"],
            ],
            [
                [6, 11, 0, "内部人员", "2022-05-14 06:11"],
                [7, 28, 0, "外部人员", "2022-05-14 07:28"],
                [7, 46, 0, "外部人员", "2022-05-14 07:46"],
                [8, 51, 0, "内部人员", "2022-05-14 08:51"],
                [10, 33, 0, "外部人员", "2022-05-14 10:33"],
                [13, 5, 0, "内部人员", "2022-05-14 13:05"],
                [16, 15, 0, "内部人员", "2022-05-14 16:15"],
                [19, 2, 0, "内部人员", "2022-05-14 19:02"],
            ],
            [
                [8, 10, 0, "内部人员", "2022-05-15","08:10"],
                [9, 38, 0, "外部人员", "2022-05-15","09:38"],
                [12, 16, 0, "外部人员", "2022-05-15" ,"12:16"],
                [12, 56, 0, "外部人员", "2022-05-15" ,"12:56"],
                [13, 5, 0, "内部人员", "2022-05-15" ,"13:05"],
                [13, 58, 0, "内部人员", "2022-05-15" ,"13:58"],
                [18, 0, 0, "外部人员", "2022-05-15" ,"18:00"],
                [19, 45, 0, "内部人员", "2022-05-15" ,"19:45"]
            ],
            [
                [4, 43, 0, "外部人员", "2022-05-16 04:43"],
                [7, 26, 0, "外部人员", "2022-05-16 07:26"],
                [10, 20, 0, "外部人员", "2022-05-16 10:20"],
                [10, 40, 0, "外部人员", "2022-05-16 10:40"],
                [11, 8, 0, "外部人员", "2022-05-16 11:08"],
                [12, 2, 0, "外部人员", "2022-05-16 12:02"],
                [15, 33, 0, "外部人员", "2022-05-16 15:33"],
                [16, 2, 0, "外部人员", "2022-05-16 16:02"],
                [18, 20, 0, "外部人员", "2022-05-16 18:20"],
                [19, 2, 0, "内部人员", "2022-05-16 19:02"],
                [19, 32, 0, "内部人员", "2022-05-16 19:32"],
                [21, 10, 0, "内部人员", "2022-05-16 21:10"],
            ],
            [
                [9, 38, 0, "外部人员", "2022-05-17 09:38"],
                [10, 7, 0, "外部人员", "2022-05-17 10:07"],
                [11, 22, 0, "外部人员", "2022-05-17 11:22"],
                [12, 12, 0, "外部人员", "2022-05-17 12:12"],
                [12, 18, 0, "外部人员", "2022-05-17 12:18"],
                [16, 14, 0, "内部人员", "2022-05-17 16:14"],
                [19, 53, 0, "内部人员", "2022-05-17 19:53"],
                [21, 41, 0, "内部人员", "2022-05-17 21:41"],
                [22, 22, 0, "内部人员", "2022-05-17 22:22"]
            ],
            [
                [9, 21, 0, "内部人员", "2022-05-18 09:21"],
                [10, 33, 0, "外部人员", "2022-05-18 10:33"],
                [11, 56, 0, "外部人员", "2022-05-18 11:56"],
                [13, 59, 0, "内部人员", "2022-05-18 13:59"],
                [14, 40, 0, "内部人员", "2022-05-18 14:40"],
                [16, 22, 0, "外部人员", "2022-05-18 16:22"],
                [18, 15, 0, "外部人员", "2022-05-18 18:15"],
                [19, 45, 0, "外部人员", "2022-05-18 19:45"],
            ],
            [
                [7, 11, 0, "内部人员", "2022-05-19 07:11"],
                [7, 28, 0, "外部人员", "2022-05-19 07:28"],
                [8, 46, 0, "外部人员", "2022-05-19 08:46"],
                [8, 51, 0, "内部人员", "2022-05-19 08:51"],
                [11, 56, 0, "外部人员", "2022-05-19 11:56"],
                [13, 57, 0, "内部人员", "2022-05-19 13:57"],
                [16, 35, 0, "内部人员", "2022-05-19 16:35"],
                [17, 28, 0, "外部人员", "2022-05-19 17:28"],
                [18, 46, 0, "外部人员", "2022-05-19 18:46"],
                [18, 51, 0, "内部人员", "2022-05-19 18:51"],
                [21, 28, 0, "内部人员", "2022-05-19 21:28"],
            ],
            [
                [6, 34, 0, "内部人员", "2022-05-20 06:34"],
                [8, 39, 0, "外部人员", "2022-05-20 08:39"],
                [7, 48, 0, "外部人员", "2022-05-20 07:48"],
                [9, 41, 0, "内部人员", "2022-05-20 09:41"],
                [10, 26, 0, "外部人员", "2022-05-20 10:26"],
                [11, 33, 0, "外部人员", "2022-05-20 11:33"],
                [12, 35, 0, "内部人员", "2022-05-20 12:35"],
                [15, 11, 0, "内部人员", "2022-05-20 15:11"],
                [17, 44, 0, "内部人员", "2022-05-20 17:44"],
            ],
            [
                [10, 10, 0, "内部人员", "2022-05-21" ,"10:10"],
                [10, 38, 0, "外部人员", "2022-05-21" ,"10:38"],
                [11, 27, 0, "外部人员", "2022-05-21" ,"11:27"],
                [12, 1, 0, "外部人员", "2022-05-21"  ,"12:01"],
                [12, 14, 0, "外部人员", "2022-05-21" ,"12:14"],
                [14, 5, 0, "内部人员", "2022-05-21"  ,"14:05"],
                [13, 57, 0, "内部人员", "2022-05-21" ,"13:57"],
                [15, 38, 0, "内部人员", "2022-05-21" ,"15:38"],
                [16, 30, 0, "外部人员", "2022-05-21" ,"16:30"],
                [18, 41, 0, "内部人员", "2022-05-21" ,"18:41"]
            ],
    ],
        "time": [
            "2022-05-01", "2022-05-02", "2022-05-03",  "2022-05-04", "2022-05-05", "2022-05-06", "2022-05-07", "2022-05-08","2022-05-09","2022-05-10",
            "2022-05-11", "2022-05-12", "2022-05-13", "2022-05-14", "2022-05-15", "2022-05-16", "2022-05-17", "2022-05-18","2022-05-19","2022-05-20"
        ],
        "namelist": ["内部人员", "外部人员"],

    };
    var xvalue_24h = ['00', '01', '02', '03',
        '04', '05', '06', '07', '08',
        '09', '10', '11', '12', '13',
        '14', '15', '16', '17', '18',
        '19', '20', '21', '22', '23', '24h'
    ];
    var sizeFunction = function(x) {
        var size = 30;
        return size;
    };
    var itemStyle = {
        normal: {
            opacity: 0.65,
            shadowBlur: 10,
            shadowOffsetX: 0,
            shadowOffsetY: 0,
            shadowColor: 'rgba(0, 0, 0, 0.3)'
        }
    };
    var colorsJob = ["#ffca67", "#ff60a2"];
    var tempUrl = "https://www.bilibili.com/";
    var option = {
        baseOption: {
            backgroundColor: 'rgba(7,14,28,1)', //设置背景色
            timeline: {
                axisType: 'category',
                autoPlay: false,
                playInterval: 3000,
                symbol: 'circle',
                inverse: false,
                rewind: true,
                symbolSize: 5,
                checkpointStyle: {
                    symbol: 'circle',
                    symbolSize: 7,
                    color: '#aed2ff',
                    borderColor: "#aed2ff"
                },
                left: "1%",
                width: '90%',
                height: '36',
                lineStyle: {
                    color: "#454e72"
                },
                label: {
                    normal: {
                        textStyle: {
                            color: "#aed2ff",
                            fontSize: 14,
                        }
                    },
                    position: 15,
                    formatter: function(value, index) {
                        return value.replace(/-/g, ".");
                    }
                },
                data: Job_scatter_data.time
            },
            calculable: true,
            grid: {
                left: '1.5%',
                //right: '3%',
                bottom: '10%',
                containLabel: true
            },
            tooltip: {
                backgroundColor: 'rgba(7,14,28,0.9)',

                formatter: function(value, index) {
                    //判断是否为数组，若是数组则鼠标滑过的是散点图 若不是则不显示tooltip
                    if(Object.prototype.toString.call(value.data)==='[object Array]'){
                        var tooltip = '';
                        tooltip =
                            "<div style='width:185px;height:90px;border-radius:8px;'>"
                            + "<span style='display:block;padding:16px 10px 0 10px;font-size:14px;font-weight:700;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;color:" + value.color + "'>"
                            + value.data[3]
                            + "</span>"
                            + "<span style='display:block;padding:16px 10px 0 10px;font-size:14px;font-weight:700;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;color:" + value.color + "'>"
                            + value.data[4]
                            + "</span>"
                            + "</div>";
                        return tooltip;
                    }else{
                    }

                }
            },
            xAxis: [{
                type: 'category',
                boundaryGap: true,
                data: xvalue_24h, //Todo
                axisLine: {
                    show: false
                },
                axisTick: {
                    show: false
                },
                axisLabel: {
                    textStyle: {
                        color: "#454e72"
                    },
                    margin: 15
                },
                splitLine: {
                    lineStyle: {
                        color: "#1d203b"
                    }
                }
            }],
            yAxis: [{
                name: '单位（分钟）',
                nameGap:20,
                nameTextStyle:{
                    color:'#454e72',
                    fontSize: 12,
                },
                type: 'value',

                axisLine: {
                    show: false
                },
                axisTick: {
                    show: false
                },
                axisLabel: {
                    // formatter: function(value, idx) {
                    //     if (idx === 0) {
                    //         return value + "个";
                    //     } else {
                    //         return value;
                    //     }
                    // },
                    textStyle: {
                        color: '#303765'
                    },
                    margin: 20
                },
                splitLine: {
                    lineStyle: {
                        color: "#1d203b"
                    }
                }
            }],
            dataZoom: [{
                type: 'slider',
                show: true,
                yAxisIndex: [0],
                left: '93%',
                start: 0,
                end: 90,
                textStyle: {
                    color: '#aed2ff'
                },
                borderColor: '#3c4868',
                width: '26',
                height: '80%',
                handleIcon: 'M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4v1.3h1.3v-1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7V23h6.6V24.4z M13.3,19.6H6.7v-1.4h6.6V19.6z',
                handleSize: '90%',
                dataBackground: {
                    areaStyle: {
                        color: '#222445'
                    },
                    lineStyle: {
                        opacity: 0.8,
                        color: '#222445'
                    }
                },
                handleStyle: {
                    color: '#aed2ff',
                    shadowBlur: 3,
                    shadowColor: 'rgba(0, 0, 0, 0.6)',
                    shadowOffsetX: 2,
                    shadowOffsetY: 2
                }
            },
                {
                    type: 'inside',
                    yAxisIndex: [0],
                    start: 0,
                    end: 90,
                    textStyle: {
                        color: '#aed2ff'
                    },
                    borderColor: '#3c4868',
                    width: '26',
                    height: '80%',
                    handleIcon: 'M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4v1.3h1.3v-1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7V23h6.6V24.4z M13.3,19.6H6.7v-1.4h6.6V19.6z',
                    handleSize: '90%',
                    dataBackground: {
                        areaStyle: {
                            color: '#222445'
                        },
                        lineStyle: {
                            opacity: 0.8,
                            color: '#222445'
                        }
                    },
                    handleStyle: {
                        color: '#aed2ff',
                        shadowBlur: 3,
                        shadowColor: 'rgba(0, 0, 0, 0.6)',
                        shadowOffsetX: 2,
                        shadowOffsetY: 2
                    }
                },
            ],
            visualMap: [{
                show: true,
                type: 'piecewise',
                dimension: 3,
                orient: 'horizontal',
                right: "17%",
                top: 0,
                categories: Job_scatter_data.namelist,
                calculable: true,
                //precision: 0.1,
                textGap: 2,
                itemGap: 16,
                textStyle: {
                    color: [],
                    fontSize: 14
                },
                inRange: {
                    color: colorsJob,
                    symbol: 'circle'
                },
                outOfRange: {
                    color: '#555'
                }
            }],
            animation: true,
            animationDurationUpdate: 1000,
            animationEasingUpdate: 'quinticInOut',
            series: [{
                type: 'scatter',
                itemStyle: itemStyle,
                data: Job_scatter_data.series[0],
                symbolSize: function(val) {
                    return sizeFunction(~~val[2]);
                }
            }],
        },
        options: []
    };



    for (var i = 0; i < Job_scatter_data.time.length; i++) {
        option.options.push({
            title: {
                textStyle: {
                    color: "#707aa0",
                    fontStyle: "normal",
                    fontSize: '14px',
                    fontFamily: "微软雅黑",
                },
                right: "4%"
            },
            series: {
                //name: data.timeline[n],
                type: 'scatter',
                data: Job_scatter_data.series[i],
                itemStyle: itemStyle,
                symbolSize: function(val) {
                    return sizeFunction(~~val[2]);
                }
            }
        });
    }

    myChart.setOption(option);

    myChart.on('click', function (params) {
        if(params.data[3]==="外部人员") {
            console.log("temp1");

            location.href="http://dlddwl.cn:8081/getImage/"+params.data[4];



            }
        else{
            console.log("temp2");
        }
        console.log(params.data[0]+" "+params.data[1]+" "+params.data[2]);
        console.log(params.data[3]+" "+params.data[4]);

        })




</script>
</body>
</html>